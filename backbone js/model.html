<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="https://code.jquery.com/jquery-2.1.3.min.js" type="text/javascript"></script>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.3.3/underscore-min.js"
        type="text/javascript"></script>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/backbone.js/0.9.2/backbone-min.js" type="text/javascript"></script>
</head>
<body>
    <div id="content"></div>
    <script type="text/template" id="temp"> 
         <!-- external template -->
        <!-- name : <%= this.model.get('name') %> <br> age : <%= this.model.get('age') %> -->
        <!-- <%- %> can also be used in the place of <%= %>  -->
        <!-- <% if(age >= 22){  %>
            <%= name %>
       
        <% }else{ %>
            <%= blood_group %>    
        <% } %> -->
    </script>
    <script>
        let FirstModel=Backbone.Model.extend({
            defaults : {
                    name:"full name",
                    age:"your age"
                },
            //defaults method is used to set default values for keys


            initialize:function(){
                    console.log("model");
             }
        })
        let fmodel=new FirstModel(
            
            {  //2nd method by passing the object in constructor
            name:"<p>siva</p>",
            age:22,
            blood_group:"b+"
        }
        )
        
        // model.set("name","siva")  //1st method by using set method
        // model.set({
        //     name:"  siva " ,
        //     age:22,
        //     blood_group:"b+"
        // })
        //we can set the attributes ny two ways-
            //1.set method 2.by passing the object in the constructor of model
        //2.get method is used to fetch the data fro mthe model 
        //toJSON()-to view entire object present in model (from attributes)

        let ModelView=Backbone.View.extend({
            
            // template: _.template($("#temp").html()),
            // template:_.template("name : <%= this.model.get('name') %> <br> age : <%= this.model.get('age') %>"), //inline template
            //<%= %> is used to access the values from the model on the screen 
            //<% %> is used to perform some operation based on a condition
            initialize:function(){
                this.render()
            },
            render:function(){
                console.log("hey view");
                // console.log(this.model);
                // console.log(this.model.toJSON());
                this.$el.html(this.model.get('name'))
                console.log(this.model.get("name"));
                // this.$el.html(this.template(this.model.toJSON()))  

                console.log(this.model.escape("name"));
                //escape method will return the o/p in the form html character entities

                console.log(this.model.has("name"));
                //has method will return true if key is present else it will return false
                if(this.model.has("age")){console.log("age exists");}
                else{console.log("age does not  exists");}

                this.model.unset("blood_group")
                console.log(this.model.toJSON());
                //unset method is used to remove key value from the attribute

                // this.model.clear()
                console.log(this.model.toJSON());
                //clear method is used to clear entire data from model

                

            }
        })
        // let mv=new ModelView({model:fmodel})
        let mv=new ModelView({
            el:"#content",
            model:fmodel,
        })
    </script>
</body>
</html>